#ifndef WEBSERVER_MS
#define WEBSERVER_MS

#include <Arduino.h>
#include <ESP8266WiFi.h>
#include <ESP8266WiFiMulti.h>
#include <ESP8266WebServer.h>
#include <ESP8266mDNS.h>
#include <WebSocketsServer.h>
#include <Hash.h>
#include <ArduinoJson.h>
#include "webserver_ms.h"


static bool newSteerData = false;
static bool newPidData = false;
static float steerValsRecieved[2] = {0.0f};
static float pidValsRecieved[9] = {0.0f};

const char INDEX_HTML[] PROGMEM = {0X3C,0X21,0X44,0X4F,0X43,0X54,0X59,0X50,0X45,0X20,0X68,0X74,0X6D,0X6C,0X3E,0X0A,0X3C,0X68,0X74,0X6D,0X6C,0X3E,0X0A,0X3C,0X68,0X65,0X61,0X64,0X3E,0X0A,0X3C,0X6D,0X65,0X74,0X61,0X20,0X6E,0X61,0X6D,0X65,0X3D,0X27,0X76,0X69,0X65,0X77,0X70,0X6F,0X72,0X74,0X27,0X20,0X63,0X6F,0X6E,0X74,0X65,0X6E,0X74,0X3D,0X27,0X77,0X69,0X64,0X74,0X68,0X3D,0X64,0X65,0X76,0X69,0X63,0X65,0X2D,0X77,0X69,0X64,0X74,0X68,0X2C,0X20,0X69,0X6E,0X69,0X74,0X69,0X61,0X6C,0X2D,0X73,0X63,0X61,0X6C,0X65,0X3D,0X31,0X2E,0X30,0X2C,0X20,0X75,0X73,0X65,0X72,0X2D,0X73,0X63,0X61,0X6C,0X61,0X62,0X6C,0X65,0X3D,0X6E,0X6F,0X27,0X20,0X2F,0X3E,0X0A,0X3C,0X74,0X69,0X74,0X6C,0X65,0X3E,0X4C,0X50,0X45,0X2D,0X52,0X65,0X6D,0X6F,0X74,0X65,0X3C,0X2F,0X74,0X69,0X74,0X6C,0X65,0X3E,0X0A,0X3C,0X73,0X74,0X79,0X6C,0X65,0X3E,0X0A,0X62,0X6F,0X64,0X79,0X7B,0X0A,0X20,0X20,0X20,0X20,0X62,0X61,0X63,0X6B,0X67,0X72,0X6F,0X75,0X6E,0X64,0X2D,0X63,0X6F,0X6C,0X6F,0X72,0X3A,0X20,0X72,0X67,0X62,0X28,0X32,0X34,0X2C,0X20,0X32,0X37,0X2C,0X20,0X32,0X38,0X29,0X0A,0X7D,0X2C,0X20,0X69,0X6E,0X70,0X75,0X74,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X66,0X6F,0X6E,0X74,0X2D,0X66,0X61,0X6D,0X69,0X6C,0X79,0X3A,0X20,0X41,0X72,0X69,0X61,0X6C,0X3B,0X0A,0X7D,0X0A,0X23,0X73,0X74,0X61,0X74,0X75,0X73,0X41,0X72,0X65,0X61,0X2C,0X20,0X23,0X69,0X6E,0X70,0X75,0X74,0X46,0X69,0X65,0X6C,0X64,0X73,0X2C,0X20,0X23,0X74,0X65,0X78,0X74,0X41,0X72,0X65,0X61,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X77,0X69,0X64,0X74,0X68,0X3A,0X20,0X31,0X30,0X30,0X25,0X3B,0X0A,0X20,0X20,0X20,0X20,0X70,0X61,0X64,0X64,0X69,0X6E,0X67,0X3A,0X20,0X34,0X70,0X78,0X3B,0X0A,0X20,0X20,0X20,0X20,0X62,0X61,0X63,0X6B,0X67,0X72,0X6F,0X75,0X6E,0X64,0X3A,0X20,0X72,0X67,0X62,0X28,0X33,0X30,0X2C,0X20,0X33,0X33,0X2C,0X20,0X33,0X34,0X29,0X3B,0X0A,0X20,0X20,0X20,0X20,0X74,0X65,0X78,0X74,0X2D,0X61,0X6C,0X69,0X67,0X6E,0X3A,0X20,0X63,0X65,0X6E,0X74,0X65,0X72,0X3B,0X0A,0X20,0X20,0X20,0X20,0X62,0X6F,0X78,0X2D,0X73,0X69,0X7A,0X69,0X6E,0X67,0X3A,0X20,0X62,0X6F,0X72,0X64,0X65,0X72,0X2D,0X62,0X6F,0X78,0X3B,0X0A,0X20,0X20,0X20,0X20,0X62,0X6F,0X72,0X64,0X65,0X72,0X3A,0X20,0X33,0X70,0X78,0X20,0X73,0X6F,0X6C,0X69,0X64,0X20,0X72,0X67,0X62,0X28,0X32,0X34,0X2C,0X20,0X32,0X37,0X2C,0X20,0X32,0X38,0X29,0X3B,0X0A,0X20,0X20,0X20,0X20,0X62,0X6F,0X72,0X64,0X65,0X72,0X2D,0X72,0X61,0X64,0X69,0X75,0X73,0X3A,0X20,0X31,0X35,0X70,0X78,0X3B,0X0A,0X20,0X20,0X20,0X20,0X66,0X6F,0X6E,0X74,0X2D,0X66,0X61,0X6D,0X69,0X6C,0X79,0X3A,0X20,0X41,0X72,0X69,0X61,0X6C,0X3B,0X0A,0X20,0X20,0X20,0X20,0X63,0X6F,0X6C,0X6F,0X72,0X3A,0X20,0X72,0X67,0X62,0X28,0X32,0X33,0X31,0X2C,0X20,0X32,0X33,0X31,0X2C,0X20,0X32,0X33,0X31,0X29,0X3B,0X0A,0X7D,0X0A,0X23,0X63,0X6F,0X6E,0X74,0X61,0X69,0X6E,0X65,0X72,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X6D,0X61,0X72,0X67,0X69,0X6E,0X3A,0X20,0X30,0X20,0X61,0X75,0X74,0X6F,0X3B,0X0A,0X20,0X20,0X20,0X20,0X77,0X69,0X64,0X74,0X68,0X3A,0X20,0X33,0X30,0X30,0X70,0X78,0X3B,0X0A,0X20,0X20,0X20,0X20,0X68,0X65,0X69,0X67,0X68,0X74,0X3A,0X20,0X33,0X30,0X30,0X70,0X78,0X3B,0X0A,0X20,0X20,0X20,0X20,0X62,0X61,0X63,0X6B,0X67,0X72,0X6F,0X75,0X6E,0X64,0X2D,0X63,0X6F,0X6C,0X6F,0X72,0X3A,0X20,0X72,0X67,0X62,0X28,0X31,0X34,0X31,0X2C,0X20,0X31,0X37,0X34,0X2C,0X20,0X31,0X36,0X29,0X3B,0X0A,0X20,0X20,0X20,0X20,0X64,0X69,0X73,0X70,0X6C,0X61,0X79,0X3A,0X20,0X66,0X6C,0X65,0X78,0X3B,0X0A,0X20,0X20,0X20,0X20,0X61,0X6C,0X69,0X67,0X6E,0X2D,0X69,0X74,0X65,0X6D,0X73,0X3A,0X20,0X63,0X65,0X6E,0X74,0X65,0X72,0X3B,0X0A,0X20,0X20,0X20,0X20,0X6A,0X75,0X73,0X74,0X69,0X66,0X79,0X2D,0X63,0X6F,0X6E,0X74,0X65,0X6E,0X74,0X3A,0X20,0X63,0X65,0X6E,0X74,0X65,0X72,0X3B,0X0A,0X20,0X20,0X20,0X20,0X6F,0X76,0X65,0X72,0X66,0X6C,0X6F,0X77,0X3A,0X20,0X68,0X69,0X64,0X64,0X65,0X6E,0X3B,0X0A,0X20,0X20,0X20,0X20,0X62,0X6F,0X72,0X64,0X65,0X72,0X2D,0X72,0X61,0X64,0X69,0X75,0X73,0X3A,0X20,0X35,0X30,0X25,0X3B,0X0A,0X20,0X20,0X20,0X20,0X62,0X6F,0X72,0X64,0X65,0X72,0X3A,0X20,0X32,0X70,0X78,0X20,0X73,0X6F,0X6C,0X69,0X64,0X20,0X72,0X67,0X62,0X28,0X32,0X34,0X31,0X2C,0X20,0X32,0X34,0X31,0X2C,0X20,0X32,0X34,0X31,0X29,0X3B,0X0A,0X20,0X20,0X20,0X20,0X74,0X6F,0X75,0X63,0X68,0X2D,0X61,0X63,0X74,0X69,0X6F,0X6E,0X3A,0X20,0X6E,0X6F,0X6E,0X65,0X3B,0X0A,0X7D,0X0A,0X23,0X69,0X74,0X65,0X6D,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X77,0X69,0X64,0X74,0X68,0X3A,0X20,0X31,0X30,0X30,0X70,0X78,0X3B,0X0A,0X20,0X20,0X20,0X20,0X68,0X65,0X69,0X67,0X68,0X74,0X3A,0X20,0X31,0X30,0X30,0X70,0X78,0X3B,0X0A,0X20,0X20,0X20,0X20,0X62,0X61,0X63,0X6B,0X67,0X72,0X6F,0X75,0X6E,0X64,0X2D,0X63,0X6F,0X6C,0X6F,0X72,0X3A,0X20,0X72,0X67,0X62,0X28,0X30,0X2C,0X20,0X35,0X33,0X2C,0X20,0X39,0X36,0X29,0X3B,0X0A,0X20,0X20,0X20,0X20,0X62,0X6F,0X72,0X64,0X65,0X72,0X3A,0X20,0X31,0X30,0X70,0X78,0X20,0X73,0X6F,0X6C,0X69,0X64,0X20,0X72,0X67,0X62,0X61,0X28,0X32,0X33,0X31,0X2C,0X20,0X32,0X33,0X31,0X2C,0X20,0X32,0X33,0X31,0X2C,0X30,0X2E,0X35,0X29,0X3B,0X0A,0X20,0X20,0X20,0X20,0X62,0X6F,0X72,0X64,0X65,0X72,0X2D,0X72,0X61,0X64,0X69,0X75,0X73,0X3A,0X20,0X35,0X30,0X25,0X3B,0X0A,0X20,0X20,0X20,0X20,0X74,0X6F,0X75,0X63,0X68,0X2D,0X61,0X63,0X74,0X69,0X6F,0X6E,0X3A,0X20,0X6E,0X6F,0X6E,0X65,0X3B,0X0A,0X20,0X20,0X20,0X20,0X75,0X73,0X65,0X72,0X2D,0X73,0X65,0X6C,0X65,0X63,0X74,0X3A,0X20,0X6E,0X6F,0X6E,0X65,0X3B,0X0A,0X7D,0X0A,0X23,0X69,0X74,0X65,0X6D,0X3A,0X61,0X63,0X74,0X69,0X76,0X65,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X62,0X61,0X63,0X6B,0X67,0X72,0X6F,0X75,0X6E,0X64,0X2D,0X63,0X6F,0X6C,0X6F,0X72,0X3A,0X20,0X72,0X67,0X62,0X61,0X28,0X30,0X2C,0X20,0X35,0X33,0X2C,0X20,0X39,0X36,0X2C,0X20,0X30,0X2E,0X33,0X29,0X3B,0X0A,0X7D,0X0A,0X23,0X69,0X74,0X65,0X6D,0X3A,0X68,0X6F,0X76,0X65,0X72,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X63,0X75,0X72,0X73,0X6F,0X72,0X3A,0X20,0X70,0X6F,0X69,0X6E,0X74,0X65,0X72,0X3B,0X0A,0X20,0X20,0X20,0X20,0X62,0X6F,0X72,0X64,0X65,0X72,0X2D,0X77,0X69,0X64,0X74,0X68,0X3A,0X20,0X32,0X30,0X70,0X78,0X3B,0X0A,0X7D,0X0A,0X69,0X6E,0X70,0X75,0X74,0X5B,0X74,0X79,0X70,0X65,0X3D,0X22,0X6E,0X75,0X6D,0X62,0X65,0X72,0X22,0X5D,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X77,0X69,0X64,0X74,0X68,0X3A,0X20,0X33,0X35,0X70,0X78,0X3B,0X0A,0X20,0X20,0X20,0X20,0X70,0X61,0X64,0X64,0X69,0X6E,0X67,0X3A,0X20,0X35,0X70,0X78,0X3B,0X0A,0X20,0X20,0X20,0X20,0X6D,0X61,0X72,0X67,0X69,0X6E,0X3A,0X20,0X35,0X70,0X78,0X3B,0X0A,0X20,0X20,0X20,0X20,0X62,0X6F,0X72,0X64,0X65,0X72,0X2D,0X72,0X61,0X64,0X69,0X75,0X73,0X3A,0X20,0X35,0X70,0X78,0X3B,0X0A,0X20,0X20,0X20,0X20,0X62,0X6F,0X72,0X64,0X65,0X72,0X3A,0X20,0X31,0X70,0X78,0X20,0X73,0X6F,0X6C,0X69,0X64,0X20,0X23,0X63,0X63,0X63,0X3B,0X0A,0X20,0X20,0X20,0X20,0X62,0X61,0X63,0X6B,0X67,0X72,0X6F,0X75,0X6E,0X64,0X2D,0X63,0X6F,0X6C,0X6F,0X72,0X3A,0X20,0X72,0X67,0X62,0X28,0X32,0X34,0X2C,0X20,0X32,0X37,0X2C,0X20,0X32,0X38,0X29,0X3B,0X0A,0X20,0X20,0X20,0X20,0X63,0X6F,0X6C,0X6F,0X72,0X3A,0X20,0X72,0X67,0X62,0X28,0X32,0X34,0X31,0X2C,0X32,0X34,0X31,0X2C,0X32,0X34,0X31,0X29,0X3B,0X0A,0X20,0X20,0X20,0X20,0X66,0X6F,0X6E,0X74,0X2D,0X73,0X69,0X7A,0X65,0X3A,0X20,0X30,0X2E,0X37,0X35,0X65,0X6D,0X3B,0X0A,0X7D,0X0A,0X0A,0X69,0X6E,0X70,0X75,0X74,0X5B,0X74,0X79,0X70,0X65,0X3D,0X22,0X6E,0X75,0X6D,0X62,0X65,0X72,0X22,0X5D,0X5B,0X72,0X65,0X61,0X64,0X6F,0X6E,0X6C,0X79,0X5D,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X2D,0X6D,0X6F,0X7A,0X2D,0X61,0X70,0X70,0X65,0X61,0X72,0X61,0X6E,0X63,0X65,0X3A,0X20,0X74,0X65,0X78,0X74,0X66,0X69,0X65,0X6C,0X64,0X3B,0X20,0X2F,0X2A,0X20,0X46,0X69,0X72,0X65,0X66,0X6F,0X78,0X20,0X2A,0X2F,0X0A,0X20,0X20,0X20,0X20,0X61,0X70,0X70,0X65,0X61,0X72,0X61,0X6E,0X63,0X65,0X3A,0X20,0X6E,0X6F,0X6E,0X65,0X3B,0X20,0X2F,0X2A,0X20,0X52,0X65,0X73,0X65,0X74,0X20,0X66,0XC3,0XBC,0X72,0X20,0X43,0X68,0X72,0X6F,0X6D,0X65,0X2C,0X20,0X53,0X61,0X66,0X61,0X72,0X69,0X2C,0X20,0X45,0X64,0X67,0X65,0X20,0X2A,0X2F,0X0A,0X20,0X20,0X20,0X20,0X62,0X61,0X63,0X6B,0X67,0X72,0X6F,0X75,0X6E,0X64,0X2D,0X63,0X6F,0X6C,0X6F,0X72,0X3A,0X20,0X72,0X67,0X62,0X28,0X33,0X36,0X2C,0X20,0X33,0X39,0X2C,0X20,0X34,0X31,0X29,0X3B,0X0A,0X20,0X20,0X20,0X20,0X63,0X6F,0X6C,0X6F,0X72,0X3A,0X20,0X23,0X64,0X64,0X64,0X3B,0X0A,0X20,0X20,0X20,0X20,0X62,0X6F,0X72,0X64,0X65,0X72,0X3A,0X20,0X31,0X70,0X78,0X20,0X73,0X6F,0X6C,0X69,0X64,0X20,0X23,0X35,0X35,0X35,0X3B,0X0A,0X20,0X20,0X20,0X20,0X63,0X75,0X72,0X73,0X6F,0X72,0X3A,0X20,0X6E,0X6F,0X74,0X2D,0X61,0X6C,0X6C,0X6F,0X77,0X65,0X64,0X3B,0X0A,0X20,0X20,0X20,0X20,0X66,0X6F,0X6E,0X74,0X2D,0X73,0X69,0X7A,0X65,0X3A,0X20,0X30,0X2E,0X37,0X35,0X65,0X6D,0X3B,0X0A,0X7D,0X0A,0X0A,0X0A,0X3C,0X2F,0X73,0X74,0X79,0X6C,0X65,0X3E,0X0A,0X3C,0X2F,0X68,0X65,0X61,0X64,0X3E,0X0A,0X3C,0X62,0X6F,0X64,0X79,0X3E,0X0A,0X3C,0X64,0X69,0X76,0X20,0X69,0X64,0X3D,0X22,0X73,0X74,0X61,0X74,0X75,0X73,0X41,0X72,0X65,0X61,0X22,0X3E,0X53,0X74,0X61,0X74,0X75,0X73,0X6D,0X65,0X6C,0X64,0X75,0X6E,0X67,0X65,0X6E,0X20,0X68,0X69,0X65,0X72,0X20,0X61,0X6E,0X7A,0X65,0X69,0X67,0X65,0X6E,0X3C,0X2F,0X64,0X69,0X76,0X3E,0X0A,0X3C,0X64,0X69,0X76,0X20,0X69,0X64,0X3D,0X22,0X69,0X6E,0X70,0X75,0X74,0X46,0X69,0X65,0X6C,0X64,0X73,0X22,0X3E,0X20,0X50,0X49,0X44,0X20,0X41,0X3A,0X20,0X0A,0X20,0X20,0X20,0X20,0X3C,0X69,0X6E,0X70,0X75,0X74,0X20,0X74,0X79,0X70,0X65,0X3D,0X22,0X6E,0X75,0X6D,0X62,0X65,0X72,0X22,0X20,0X69,0X64,0X3D,0X22,0X6B,0X70,0X41,0X22,0X20,0X70,0X6C,0X61,0X63,0X65,0X68,0X6F,0X6C,0X64,0X65,0X72,0X3D,0X22,0X6B,0X70,0X22,0X20,0X73,0X74,0X65,0X70,0X3D,0X22,0X30,0X2E,0X35,0X22,0X3E,0X0A,0X20,0X20,0X20,0X20,0X3C,0X69,0X6E,0X70,0X75,0X74,0X20,0X74,0X79,0X70,0X65,0X3D,0X22,0X6E,0X75,0X6D,0X62,0X65,0X72,0X22,0X20,0X69,0X64,0X3D,0X22,0X6B,0X69,0X41,0X22,0X20,0X70,0X6C,0X61,0X63,0X65,0X68,0X6F,0X6C,0X64,0X65,0X72,0X3D,0X22,0X6B,0X69,0X22,0X20,0X73,0X74,0X65,0X70,0X3D,0X22,0X30,0X2E,0X35,0X22,0X3E,0X0A,0X20,0X20,0X20,0X20,0X3C,0X69,0X6E,0X70,0X75,0X74,0X20,0X74,0X79,0X70,0X65,0X3D,0X22,0X6E,0X75,0X6D,0X62,0X65,0X72,0X22,0X20,0X69,0X64,0X3D,0X22,0X6B,0X64,0X41,0X22,0X20,0X70,0X6C,0X61,0X63,0X65,0X68,0X6F,0X6C,0X64,0X65,0X72,0X3D,0X22,0X6B,0X64,0X22,0X20,0X73,0X74,0X65,0X70,0X3D,0X22,0X30,0X2E,0X35,0X22,0X3E,0X0A,0X20,0X20,0X20,0X20,0X3C,0X62,0X75,0X74,0X74,0X6F,0X6E,0X20,0X6F,0X6E,0X63,0X6C,0X69,0X63,0X6B,0X3D,0X22,0X73,0X65,0X6E,0X64,0X46,0X6C,0X6F,0X61,0X74,0X56,0X61,0X6C,0X75,0X65,0X73,0X28,0X29,0X22,0X3E,0X53,0X65,0X6E,0X64,0X3C,0X2F,0X62,0X75,0X74,0X74,0X6F,0X6E,0X3E,0X0A,0X3C,0X2F,0X64,0X69,0X76,0X3E,0X0A,0X3C,0X64,0X69,0X76,0X20,0X69,0X64,0X3D,0X22,0X69,0X6E,0X70,0X75,0X74,0X46,0X69,0X65,0X6C,0X64,0X73,0X22,0X3E,0X20,0X50,0X49,0X44,0X20,0X42,0X3A,0X20,0X0A,0X20,0X20,0X20,0X20,0X3C,0X69,0X6E,0X70,0X75,0X74,0X20,0X74,0X79,0X70,0X65,0X3D,0X22,0X6E,0X75,0X6D,0X62,0X65,0X72,0X22,0X20,0X69,0X64,0X3D,0X22,0X6B,0X70,0X42,0X22,0X20,0X70,0X6C,0X61,0X63,0X65,0X68,0X6F,0X6C,0X64,0X65,0X72,0X3D,0X22,0X6B,0X70,0X22,0X20,0X73,0X74,0X65,0X70,0X3D,0X22,0X30,0X2E,0X35,0X22,0X3E,0X0A,0X20,0X20,0X20,0X20,0X3C,0X69,0X6E,0X70,0X75,0X74,0X20,0X74,0X79,0X70,0X65,0X3D,0X22,0X6E,0X75,0X6D,0X62,0X65,0X72,0X22,0X20,0X69,0X64,0X3D,0X22,0X6B,0X69,0X42,0X22,0X20,0X70,0X6C,0X61,0X63,0X65,0X68,0X6F,0X6C,0X64,0X65,0X72,0X3D,0X22,0X6B,0X69,0X22,0X20,0X73,0X74,0X65,0X70,0X3D,0X22,0X30,0X2E,0X35,0X22,0X3E,0X0A,0X20,0X20,0X20,0X20,0X3C,0X69,0X6E,0X70,0X75,0X74,0X20,0X74,0X79,0X70,0X65,0X3D,0X22,0X6E,0X75,0X6D,0X62,0X65,0X72,0X22,0X20,0X69,0X64,0X3D,0X22,0X6B,0X64,0X42,0X22,0X20,0X70,0X6C,0X61,0X63,0X65,0X68,0X6F,0X6C,0X64,0X65,0X72,0X3D,0X22,0X6B,0X64,0X22,0X20,0X73,0X74,0X65,0X70,0X3D,0X22,0X30,0X2E,0X35,0X22,0X3E,0X0A,0X20,0X20,0X20,0X20,0X3C,0X62,0X75,0X74,0X74,0X6F,0X6E,0X20,0X6F,0X6E,0X63,0X6C,0X69,0X63,0X6B,0X3D,0X22,0X73,0X65,0X6E,0X64,0X46,0X6C,0X6F,0X61,0X74,0X56,0X61,0X6C,0X75,0X65,0X73,0X28,0X29,0X22,0X3E,0X53,0X65,0X6E,0X64,0X3C,0X2F,0X62,0X75,0X74,0X74,0X6F,0X6E,0X3E,0X0A,0X3C,0X2F,0X64,0X69,0X76,0X3E,0X0A,0X3C,0X64,0X69,0X76,0X20,0X69,0X64,0X3D,0X22,0X69,0X6E,0X70,0X75,0X74,0X46,0X69,0X65,0X6C,0X64,0X73,0X22,0X3E,0X20,0X50,0X49,0X44,0X20,0X43,0X3A,0X20,0X0A,0X20,0X20,0X20,0X20,0X3C,0X69,0X6E,0X70,0X75,0X74,0X20,0X74,0X79,0X70,0X65,0X3D,0X22,0X6E,0X75,0X6D,0X62,0X65,0X72,0X22,0X20,0X69,0X64,0X3D,0X22,0X6B,0X70,0X43,0X22,0X20,0X70,0X6C,0X61,0X63,0X65,0X68,0X6F,0X6C,0X64,0X65,0X72,0X3D,0X22,0X6B,0X70,0X22,0X20,0X73,0X74,0X65,0X70,0X3D,0X22,0X30,0X2E,0X35,0X22,0X3E,0X0A,0X20,0X20,0X20,0X20,0X3C,0X69,0X6E,0X70,0X75,0X74,0X20,0X74,0X79,0X70,0X65,0X3D,0X22,0X6E,0X75,0X6D,0X62,0X65,0X72,0X22,0X20,0X69,0X64,0X3D,0X22,0X6B,0X69,0X43,0X22,0X20,0X70,0X6C,0X61,0X63,0X65,0X68,0X6F,0X6C,0X64,0X65,0X72,0X3D,0X22,0X6B,0X69,0X22,0X20,0X73,0X74,0X65,0X70,0X3D,0X22,0X30,0X2E,0X35,0X22,0X3E,0X0A,0X20,0X20,0X20,0X20,0X3C,0X69,0X6E,0X70,0X75,0X74,0X20,0X74,0X79,0X70,0X65,0X3D,0X22,0X6E,0X75,0X6D,0X62,0X65,0X72,0X22,0X20,0X69,0X64,0X3D,0X22,0X6B,0X64,0X43,0X22,0X20,0X70,0X6C,0X61,0X63,0X65,0X68,0X6F,0X6C,0X64,0X65,0X72,0X3D,0X22,0X6B,0X64,0X22,0X20,0X73,0X74,0X65,0X70,0X3D,0X22,0X30,0X2E,0X35,0X22,0X3E,0X0A,0X20,0X20,0X20,0X20,0X3C,0X62,0X75,0X74,0X74,0X6F,0X6E,0X20,0X6F,0X6E,0X63,0X6C,0X69,0X63,0X6B,0X3D,0X22,0X73,0X65,0X6E,0X64,0X46,0X6C,0X6F,0X61,0X74,0X56,0X61,0X6C,0X75,0X65,0X73,0X28,0X29,0X22,0X3E,0X53,0X65,0X6E,0X64,0X3C,0X2F,0X62,0X75,0X74,0X74,0X6F,0X6E,0X3E,0X0A,0X3C,0X2F,0X64,0X69,0X76,0X3E,0X0A,0X0A,0X3C,0X64,0X69,0X76,0X20,0X69,0X64,0X3D,0X22,0X69,0X6E,0X70,0X75,0X74,0X46,0X69,0X65,0X6C,0X64,0X73,0X22,0X3E,0X0A,0X20,0X20,0X20,0X20,0X44,0X69,0X73,0X74,0X61,0X6E,0X63,0X65,0X3A,0X20,0X0A,0X20,0X20,0X20,0X20,0X3C,0X69,0X6E,0X70,0X75,0X74,0X20,0X74,0X79,0X70,0X65,0X3D,0X22,0X6E,0X75,0X6D,0X62,0X65,0X72,0X22,0X20,0X72,0X65,0X61,0X64,0X6F,0X6E,0X6C,0X79,0X20,0X69,0X64,0X3D,0X22,0X64,0X69,0X73,0X74,0X61,0X6E,0X63,0X65,0X22,0X20,0X70,0X6C,0X61,0X63,0X65,0X68,0X6F,0X6C,0X64,0X65,0X72,0X3D,0X22,0X30,0X2E,0X30,0X22,0X3E,0X0A,0X20,0X20,0X20,0X20,0X42,0X61,0X74,0X74,0X65,0X72,0X79,0X3A,0X20,0X0A,0X20,0X20,0X20,0X20,0X3C,0X69,0X6E,0X70,0X75,0X74,0X20,0X74,0X79,0X70,0X65,0X3D,0X22,0X6E,0X75,0X6D,0X62,0X65,0X72,0X22,0X20,0X72,0X65,0X61,0X64,0X6F,0X6E,0X6C,0X79,0X20,0X69,0X64,0X3D,0X22,0X62,0X61,0X74,0X74,0X65,0X72,0X79,0X22,0X20,0X70,0X6C,0X61,0X63,0X65,0X68,0X6F,0X6C,0X64,0X65,0X72,0X3D,0X22,0X30,0X2E,0X30,0X22,0X3E,0X0A,0X3C,0X2F,0X64,0X69,0X76,0X3E,0X0A,0X0A,0X3C,0X64,0X69,0X76,0X20,0X69,0X64,0X3D,0X22,0X74,0X65,0X78,0X74,0X41,0X72,0X65,0X61,0X22,0X3E,0X4F,0X64,0X6F,0X6D,0X65,0X74,0X72,0X79,0X3A,0X3C,0X2F,0X64,0X69,0X76,0X3E,0X0A,0X0A,0X3C,0X64,0X69,0X76,0X20,0X69,0X64,0X3D,0X22,0X69,0X6E,0X70,0X75,0X74,0X46,0X69,0X65,0X6C,0X64,0X73,0X22,0X3E,0X0A,0X20,0X20,0X20,0X20,0X53,0X70,0X65,0X65,0X64,0X20,0X2D,0X20,0X4C,0X65,0X66,0X74,0X3A,0X20,0X0A,0X20,0X20,0X20,0X20,0X3C,0X69,0X6E,0X70,0X75,0X74,0X20,0X74,0X79,0X70,0X65,0X3D,0X22,0X6E,0X75,0X6D,0X62,0X65,0X72,0X22,0X20,0X72,0X65,0X61,0X64,0X6F,0X6E,0X6C,0X79,0X20,0X69,0X64,0X3D,0X22,0X73,0X70,0X65,0X65,0X64,0X4C,0X22,0X20,0X70,0X6C,0X61,0X63,0X65,0X68,0X6F,0X6C,0X64,0X65,0X72,0X3D,0X22,0X30,0X2E,0X30,0X22,0X3E,0X0A,0X20,0X20,0X20,0X20,0X52,0X69,0X67,0X68,0X74,0X3A,0X20,0X0A,0X20,0X20,0X20,0X20,0X3C,0X69,0X6E,0X70,0X75,0X74,0X20,0X74,0X79,0X70,0X65,0X3D,0X22,0X6E,0X75,0X6D,0X62,0X65,0X72,0X22,0X20,0X72,0X65,0X61,0X64,0X6F,0X6E,0X6C,0X79,0X20,0X69,0X64,0X3D,0X22,0X73,0X70,0X65,0X65,0X64,0X52,0X22,0X20,0X70,0X6C,0X61,0X63,0X65,0X68,0X6F,0X6C,0X64,0X65,0X72,0X3D,0X22,0X30,0X2E,0X30,0X22,0X3E,0X0A,0X3C,0X2F,0X64,0X69,0X76,0X3E,0X0A,0X0A,0X3C,0X64,0X69,0X76,0X20,0X69,0X64,0X3D,0X22,0X69,0X6E,0X70,0X75,0X74,0X46,0X69,0X65,0X6C,0X64,0X73,0X22,0X3E,0X20,0X0A,0X20,0X20,0X20,0X20,0X58,0X3A,0X20,0X0A,0X20,0X20,0X20,0X20,0X3C,0X69,0X6E,0X70,0X75,0X74,0X20,0X74,0X79,0X70,0X65,0X3D,0X22,0X6E,0X75,0X6D,0X62,0X65,0X72,0X22,0X20,0X72,0X65,0X61,0X64,0X6F,0X6E,0X6C,0X79,0X20,0X69,0X64,0X3D,0X22,0X70,0X6F,0X73,0X58,0X22,0X20,0X70,0X6C,0X61,0X63,0X65,0X68,0X6F,0X6C,0X64,0X65,0X72,0X3D,0X22,0X30,0X2E,0X30,0X22,0X3E,0X0A,0X20,0X20,0X20,0X20,0X59,0X3A,0X20,0X0A,0X20,0X20,0X20,0X20,0X3C,0X69,0X6E,0X70,0X75,0X74,0X20,0X74,0X79,0X70,0X65,0X3D,0X22,0X6E,0X75,0X6D,0X62,0X65,0X72,0X22,0X20,0X72,0X65,0X61,0X64,0X6F,0X6E,0X6C,0X79,0X20,0X69,0X64,0X3D,0X22,0X70,0X6F,0X73,0X59,0X22,0X20,0X70,0X6C,0X61,0X63,0X65,0X68,0X6F,0X6C,0X64,0X65,0X72,0X3D,0X22,0X30,0X2E,0X30,0X22,0X3E,0X0A,0X20,0X20,0X20,0X20,0X26,0X23,0X39,0X36,0X36,0X3B,0X3A,0X20,0X0A,0X20,0X20,0X20,0X20,0X3C,0X69,0X6E,0X70,0X75,0X74,0X20,0X74,0X79,0X70,0X65,0X3D,0X22,0X6E,0X75,0X6D,0X62,0X65,0X72,0X22,0X20,0X72,0X65,0X61,0X64,0X6F,0X6E,0X6C,0X79,0X20,0X69,0X64,0X3D,0X22,0X61,0X6E,0X67,0X6C,0X65,0X50,0X68,0X69,0X22,0X20,0X70,0X6C,0X61,0X63,0X65,0X68,0X6F,0X6C,0X64,0X65,0X72,0X3D,0X22,0X30,0X2E,0X30,0X22,0X3E,0X0A,0X09,0X26,0X23,0X39,0X34,0X35,0X3A,0X20,0X0A,0X20,0X20,0X20,0X20,0X3C,0X69,0X6E,0X70,0X75,0X74,0X20,0X74,0X79,0X70,0X65,0X3D,0X22,0X6E,0X75,0X6D,0X62,0X65,0X72,0X22,0X20,0X72,0X65,0X61,0X64,0X6F,0X6E,0X6C,0X79,0X20,0X69,0X64,0X3D,0X22,0X61,0X6E,0X67,0X6C,0X65,0X41,0X6C,0X70,0X68,0X61,0X22,0X20,0X70,0X6C,0X61,0X63,0X65,0X68,0X6F,0X6C,0X64,0X65,0X72,0X3D,0X22,0X30,0X2E,0X30,0X22,0X3E,0X0A,0X3C,0X2F,0X64,0X69,0X76,0X3E,0X0A,0X0A,0X3C,0X69,0X6E,0X70,0X75,0X74,0X20,0X74,0X79,0X70,0X65,0X3D,0X27,0X74,0X65,0X78,0X74,0X61,0X72,0X65,0X61,0X27,0X20,0X69,0X64,0X3D,0X27,0X61,0X72,0X65,0X61,0X27,0X20,0X64,0X69,0X73,0X61,0X62,0X6C,0X65,0X64,0X20,0X2F,0X3E,0X0A,0X3C,0X64,0X69,0X76,0X20,0X69,0X64,0X3D,0X27,0X6F,0X75,0X74,0X65,0X72,0X43,0X6F,0X6E,0X74,0X61,0X69,0X6E,0X65,0X72,0X27,0X3E,0X0A,0X20,0X20,0X3C,0X64,0X69,0X76,0X20,0X69,0X64,0X3D,0X27,0X63,0X6F,0X6E,0X74,0X61,0X69,0X6E,0X65,0X72,0X27,0X3E,0X0A,0X20,0X20,0X20,0X20,0X3C,0X64,0X69,0X76,0X20,0X69,0X64,0X3D,0X27,0X69,0X74,0X65,0X6D,0X27,0X3E,0X3C,0X2F,0X64,0X69,0X76,0X3E,0X0A,0X20,0X20,0X3C,0X2F,0X64,0X69,0X76,0X3E,0X0A,0X3C,0X2F,0X64,0X69,0X76,0X3E,0X0A,0X3C,0X73,0X63,0X72,0X69,0X70,0X74,0X3E,0X0A,0X76,0X61,0X72,0X20,0X77,0X73,0X20,0X3D,0X20,0X6E,0X65,0X77,0X20,0X57,0X65,0X62,0X53,0X6F,0X63,0X6B,0X65,0X74,0X28,0X27,0X77,0X73,0X3A,0X2F,0X2F,0X27,0X20,0X2B,0X20,0X77,0X69,0X6E,0X64,0X6F,0X77,0X2E,0X6C,0X6F,0X63,0X61,0X74,0X69,0X6F,0X6E,0X2E,0X68,0X6F,0X73,0X74,0X6E,0X61,0X6D,0X65,0X20,0X2B,0X20,0X27,0X3A,0X38,0X31,0X2F,0X27,0X29,0X3B,0X0A,0X0A,0X77,0X73,0X2E,0X6F,0X6E,0X6F,0X70,0X65,0X6E,0X20,0X3D,0X20,0X66,0X75,0X6E,0X63,0X74,0X69,0X6F,0X6E,0X28,0X29,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X63,0X6F,0X6E,0X73,0X6F,0X6C,0X65,0X2E,0X6C,0X6F,0X67,0X28,0X27,0X57,0X65,0X62,0X53,0X6F,0X63,0X6B,0X65,0X74,0X20,0X63,0X6F,0X6E,0X6E,0X65,0X63,0X74,0X69,0X6F,0X6E,0X20,0X65,0X73,0X74,0X61,0X62,0X6C,0X69,0X73,0X68,0X65,0X64,0X27,0X29,0X3B,0X0A,0X7D,0X3B,0X0A,0X0A,0X77,0X73,0X2E,0X6F,0X6E,0X65,0X72,0X72,0X6F,0X72,0X20,0X3D,0X20,0X66,0X75,0X6E,0X63,0X74,0X69,0X6F,0X6E,0X28,0X65,0X72,0X72,0X6F,0X72,0X29,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X63,0X6F,0X6E,0X73,0X6F,0X6C,0X65,0X2E,0X6C,0X6F,0X67,0X28,0X27,0X57,0X65,0X62,0X53,0X6F,0X63,0X6B,0X65,0X74,0X20,0X45,0X72,0X72,0X6F,0X72,0X20,0X27,0X2C,0X20,0X65,0X72,0X72,0X6F,0X72,0X29,0X3B,0X0A,0X7D,0X3B,0X0A,0X0A,0X77,0X73,0X2E,0X6F,0X6E,0X6D,0X65,0X73,0X73,0X61,0X67,0X65,0X20,0X3D,0X20,0X66,0X75,0X6E,0X63,0X74,0X69,0X6F,0X6E,0X28,0X65,0X76,0X65,0X6E,0X74,0X29,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X74,0X72,0X79,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X76,0X61,0X72,0X20,0X64,0X61,0X74,0X61,0X20,0X3D,0X20,0X4A,0X53,0X4F,0X4E,0X2E,0X70,0X61,0X72,0X73,0X65,0X28,0X65,0X76,0X65,0X6E,0X74,0X2E,0X64,0X61,0X74,0X61,0X29,0X3B,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X2F,0X2F,0X20,0XC3,0X9C,0X62,0X65,0X72,0X70,0X72,0XC3,0XBC,0X66,0X65,0X6E,0X2C,0X20,0X6F,0X62,0X20,0X64,0X69,0X65,0X20,0X44,0X61,0X74,0X65,0X6E,0X20,0X64,0X69,0X65,0X20,0X47,0X65,0X73,0X63,0X68,0X77,0X69,0X6E,0X64,0X69,0X67,0X6B,0X65,0X69,0X74,0X73,0X77,0X65,0X72,0X74,0X65,0X20,0X65,0X6E,0X74,0X68,0X61,0X6C,0X74,0X65,0X6E,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X69,0X66,0X20,0X28,0X64,0X61,0X74,0X61,0X2E,0X73,0X70,0X65,0X65,0X64,0X4C,0X20,0X21,0X3D,0X3D,0X20,0X75,0X6E,0X64,0X65,0X66,0X69,0X6E,0X65,0X64,0X20,0X26,0X26,0X20,0X64,0X61,0X74,0X61,0X2E,0X73,0X70,0X65,0X65,0X64,0X52,0X20,0X21,0X3D,0X3D,0X20,0X75,0X6E,0X64,0X65,0X66,0X69,0X6E,0X65,0X64,0X29,0X20,0X7B,0X0A,0X09,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X64,0X69,0X73,0X74,0X61,0X6E,0X63,0X65,0X27,0X29,0X2E,0X76,0X61,0X6C,0X75,0X65,0X20,0X3D,0X20,0X64,0X61,0X74,0X61,0X2E,0X64,0X69,0X73,0X74,0X61,0X6E,0X63,0X65,0X3B,0X0A,0X09,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X62,0X61,0X74,0X74,0X65,0X72,0X79,0X27,0X29,0X2E,0X76,0X61,0X6C,0X75,0X65,0X20,0X3D,0X20,0X64,0X61,0X74,0X61,0X2E,0X62,0X61,0X74,0X74,0X65,0X72,0X79,0X3B,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X73,0X70,0X65,0X65,0X64,0X4C,0X27,0X29,0X2E,0X76,0X61,0X6C,0X75,0X65,0X20,0X3D,0X20,0X64,0X61,0X74,0X61,0X2E,0X73,0X70,0X65,0X65,0X64,0X4C,0X3B,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X73,0X70,0X65,0X65,0X64,0X52,0X27,0X29,0X2E,0X76,0X61,0X6C,0X75,0X65,0X20,0X3D,0X20,0X64,0X61,0X74,0X61,0X2E,0X73,0X70,0X65,0X65,0X64,0X52,0X3B,0X0A,0X09,0X09,0X09,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X70,0X6F,0X73,0X58,0X27,0X29,0X2E,0X76,0X61,0X6C,0X75,0X65,0X20,0X3D,0X20,0X64,0X61,0X74,0X61,0X2E,0X70,0X6F,0X73,0X58,0X3B,0X0A,0X09,0X09,0X09,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X70,0X6F,0X73,0X59,0X27,0X29,0X2E,0X76,0X61,0X6C,0X75,0X65,0X20,0X3D,0X20,0X64,0X61,0X74,0X61,0X2E,0X70,0X6F,0X73,0X59,0X3B,0X0A,0X09,0X09,0X09,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X61,0X6E,0X67,0X6C,0X65,0X50,0X68,0X69,0X27,0X29,0X2E,0X76,0X61,0X6C,0X75,0X65,0X20,0X3D,0X20,0X64,0X61,0X74,0X61,0X2E,0X61,0X6E,0X67,0X6C,0X65,0X50,0X68,0X69,0X3B,0X0A,0X09,0X09,0X09,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X61,0X6E,0X67,0X6C,0X65,0X41,0X6C,0X70,0X68,0X61,0X27,0X29,0X2E,0X76,0X61,0X6C,0X75,0X65,0X20,0X3D,0X20,0X64,0X61,0X74,0X61,0X2E,0X61,0X6E,0X67,0X6C,0X65,0X41,0X6C,0X70,0X68,0X61,0X3B,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X7D,0X20,0X65,0X6C,0X73,0X65,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X2F,0X2F,0X20,0X46,0X61,0X6C,0X6C,0X62,0X61,0X63,0X6B,0X20,0X66,0XC3,0XBC,0X72,0X20,0X61,0X6E,0X64,0X65,0X72,0X65,0X20,0X4E,0X61,0X63,0X68,0X72,0X69,0X63,0X68,0X74,0X65,0X6E,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X73,0X74,0X61,0X74,0X75,0X73,0X41,0X72,0X65,0X61,0X27,0X29,0X2E,0X74,0X65,0X78,0X74,0X43,0X6F,0X6E,0X74,0X65,0X6E,0X74,0X20,0X3D,0X20,0X65,0X76,0X65,0X6E,0X74,0X2E,0X64,0X61,0X74,0X61,0X3B,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X7D,0X0A,0X20,0X20,0X20,0X20,0X7D,0X20,0X63,0X61,0X74,0X63,0X68,0X20,0X28,0X65,0X29,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X63,0X6F,0X6E,0X73,0X6F,0X6C,0X65,0X2E,0X65,0X72,0X72,0X6F,0X72,0X28,0X27,0X45,0X72,0X72,0X6F,0X72,0X20,0X70,0X61,0X72,0X73,0X69,0X6E,0X67,0X20,0X4A,0X53,0X4F,0X4E,0X21,0X27,0X2C,0X20,0X65,0X29,0X3B,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X73,0X74,0X61,0X74,0X75,0X73,0X41,0X72,0X65,0X61,0X27,0X29,0X2E,0X74,0X65,0X78,0X74,0X43,0X6F,0X6E,0X74,0X65,0X6E,0X74,0X20,0X3D,0X20,0X27,0X4D,0X65,0X63,0X68,0X61,0X74,0X72,0X6F,0X6E,0X69,0X63,0X73,0X20,0X2D,0X20,0X4C,0X50,0X45,0X27,0X3B,0X0A,0X20,0X20,0X20,0X20,0X7D,0X0A,0X7D,0X3B,0X0A,0X0A,0X76,0X61,0X72,0X20,0X64,0X72,0X61,0X67,0X49,0X74,0X65,0X6D,0X20,0X3D,0X20,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X71,0X75,0X65,0X72,0X79,0X53,0X65,0X6C,0X65,0X63,0X74,0X6F,0X72,0X28,0X27,0X23,0X69,0X74,0X65,0X6D,0X27,0X29,0X3B,0X0A,0X76,0X61,0X72,0X20,0X63,0X6F,0X6E,0X74,0X61,0X69,0X6E,0X65,0X72,0X20,0X3D,0X20,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X71,0X75,0X65,0X72,0X79,0X53,0X65,0X6C,0X65,0X63,0X74,0X6F,0X72,0X28,0X27,0X23,0X63,0X6F,0X6E,0X74,0X61,0X69,0X6E,0X65,0X72,0X27,0X29,0X3B,0X0A,0X76,0X61,0X72,0X20,0X6D,0X61,0X78,0X44,0X72,0X61,0X67,0X48,0X6F,0X72,0X69,0X7A,0X6F,0X6E,0X74,0X61,0X6C,0X20,0X3D,0X20,0X63,0X6F,0X6E,0X74,0X61,0X69,0X6E,0X65,0X72,0X2E,0X6F,0X66,0X66,0X73,0X65,0X74,0X57,0X69,0X64,0X74,0X68,0X20,0X2F,0X20,0X32,0X3B,0X0A,0X76,0X61,0X72,0X20,0X6D,0X61,0X78,0X44,0X72,0X61,0X67,0X56,0X65,0X72,0X74,0X69,0X63,0X61,0X6C,0X20,0X3D,0X20,0X63,0X6F,0X6E,0X74,0X61,0X69,0X6E,0X65,0X72,0X2E,0X6F,0X66,0X66,0X73,0X65,0X74,0X48,0X65,0X69,0X67,0X68,0X74,0X20,0X2F,0X20,0X32,0X3B,0X0A,0X76,0X61,0X72,0X20,0X61,0X63,0X74,0X69,0X76,0X65,0X20,0X3D,0X20,0X66,0X61,0X6C,0X73,0X65,0X3B,0X0A,0X76,0X61,0X72,0X20,0X63,0X75,0X72,0X72,0X65,0X6E,0X74,0X58,0X20,0X3D,0X20,0X30,0X3B,0X0A,0X76,0X61,0X72,0X20,0X63,0X75,0X72,0X72,0X65,0X6E,0X74,0X59,0X20,0X3D,0X20,0X30,0X3B,0X0A,0X76,0X61,0X72,0X20,0X69,0X6E,0X69,0X74,0X69,0X61,0X6C,0X58,0X20,0X3D,0X20,0X30,0X3B,0X0A,0X76,0X61,0X72,0X20,0X69,0X6E,0X69,0X74,0X69,0X61,0X6C,0X59,0X20,0X3D,0X20,0X30,0X3B,0X0A,0X76,0X61,0X72,0X20,0X78,0X4F,0X66,0X66,0X73,0X65,0X74,0X20,0X3D,0X20,0X30,0X3B,0X0A,0X76,0X61,0X72,0X20,0X79,0X4F,0X66,0X66,0X73,0X65,0X74,0X20,0X3D,0X20,0X30,0X3B,0X0A,0X0A,0X63,0X6F,0X6E,0X74,0X61,0X69,0X6E,0X65,0X72,0X2E,0X61,0X64,0X64,0X45,0X76,0X65,0X6E,0X74,0X4C,0X69,0X73,0X74,0X65,0X6E,0X65,0X72,0X28,0X27,0X74,0X6F,0X75,0X63,0X68,0X73,0X74,0X61,0X72,0X74,0X27,0X2C,0X20,0X64,0X72,0X61,0X67,0X53,0X74,0X61,0X72,0X74,0X2C,0X20,0X66,0X61,0X6C,0X73,0X65,0X29,0X3B,0X0A,0X63,0X6F,0X6E,0X74,0X61,0X69,0X6E,0X65,0X72,0X2E,0X61,0X64,0X64,0X45,0X76,0X65,0X6E,0X74,0X4C,0X69,0X73,0X74,0X65,0X6E,0X65,0X72,0X28,0X27,0X74,0X6F,0X75,0X63,0X68,0X65,0X6E,0X64,0X27,0X2C,0X20,0X64,0X72,0X61,0X67,0X45,0X6E,0X64,0X2C,0X20,0X66,0X61,0X6C,0X73,0X65,0X29,0X3B,0X0A,0X63,0X6F,0X6E,0X74,0X61,0X69,0X6E,0X65,0X72,0X2E,0X61,0X64,0X64,0X45,0X76,0X65,0X6E,0X74,0X4C,0X69,0X73,0X74,0X65,0X6E,0X65,0X72,0X28,0X27,0X74,0X6F,0X75,0X63,0X68,0X6D,0X6F,0X76,0X65,0X27,0X2C,0X20,0X64,0X72,0X61,0X67,0X2C,0X20,0X66,0X61,0X6C,0X73,0X65,0X29,0X3B,0X0A,0X63,0X6F,0X6E,0X74,0X61,0X69,0X6E,0X65,0X72,0X2E,0X61,0X64,0X64,0X45,0X76,0X65,0X6E,0X74,0X4C,0X69,0X73,0X74,0X65,0X6E,0X65,0X72,0X28,0X27,0X6D,0X6F,0X75,0X73,0X65,0X64,0X6F,0X77,0X6E,0X27,0X2C,0X20,0X64,0X72,0X61,0X67,0X53,0X74,0X61,0X72,0X74,0X2C,0X20,0X66,0X61,0X6C,0X73,0X65,0X29,0X3B,0X0A,0X63,0X6F,0X6E,0X74,0X61,0X69,0X6E,0X65,0X72,0X2E,0X61,0X64,0X64,0X45,0X76,0X65,0X6E,0X74,0X4C,0X69,0X73,0X74,0X65,0X6E,0X65,0X72,0X28,0X27,0X6D,0X6F,0X75,0X73,0X65,0X75,0X70,0X27,0X2C,0X20,0X64,0X72,0X61,0X67,0X45,0X6E,0X64,0X2C,0X20,0X66,0X61,0X6C,0X73,0X65,0X29,0X3B,0X0A,0X63,0X6F,0X6E,0X74,0X61,0X69,0X6E,0X65,0X72,0X2E,0X61,0X64,0X64,0X45,0X76,0X65,0X6E,0X74,0X4C,0X69,0X73,0X74,0X65,0X6E,0X65,0X72,0X28,0X27,0X6D,0X6F,0X75,0X73,0X65,0X6D,0X6F,0X76,0X65,0X27,0X2C,0X20,0X64,0X72,0X61,0X67,0X2C,0X20,0X66,0X61,0X6C,0X73,0X65,0X29,0X3B,0X0A,0X0A,0X66,0X75,0X6E,0X63,0X74,0X69,0X6F,0X6E,0X20,0X64,0X72,0X61,0X67,0X53,0X74,0X61,0X72,0X74,0X28,0X65,0X29,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X69,0X6E,0X69,0X74,0X69,0X61,0X6C,0X58,0X20,0X3D,0X20,0X65,0X2E,0X74,0X79,0X70,0X65,0X20,0X3D,0X3D,0X3D,0X20,0X27,0X74,0X6F,0X75,0X63,0X68,0X73,0X74,0X61,0X72,0X74,0X27,0X20,0X3F,0X20,0X65,0X2E,0X74,0X6F,0X75,0X63,0X68,0X65,0X73,0X5B,0X30,0X5D,0X2E,0X63,0X6C,0X69,0X65,0X6E,0X74,0X58,0X20,0X2D,0X20,0X78,0X4F,0X66,0X66,0X73,0X65,0X74,0X20,0X3A,0X20,0X65,0X2E,0X63,0X6C,0X69,0X65,0X6E,0X74,0X58,0X20,0X2D,0X20,0X78,0X4F,0X66,0X66,0X73,0X65,0X74,0X3B,0X0A,0X20,0X20,0X20,0X20,0X69,0X6E,0X69,0X74,0X69,0X61,0X6C,0X59,0X20,0X3D,0X20,0X65,0X2E,0X74,0X79,0X70,0X65,0X20,0X3D,0X3D,0X3D,0X20,0X27,0X74,0X6F,0X75,0X63,0X68,0X73,0X74,0X61,0X72,0X74,0X27,0X20,0X3F,0X20,0X65,0X2E,0X74,0X6F,0X75,0X63,0X68,0X65,0X73,0X5B,0X30,0X5D,0X2E,0X63,0X6C,0X69,0X65,0X6E,0X74,0X59,0X20,0X2D,0X20,0X79,0X4F,0X66,0X66,0X73,0X65,0X74,0X20,0X3A,0X20,0X65,0X2E,0X63,0X6C,0X69,0X65,0X6E,0X74,0X59,0X20,0X2D,0X20,0X79,0X4F,0X66,0X66,0X73,0X65,0X74,0X3B,0X0A,0X20,0X20,0X20,0X20,0X69,0X66,0X20,0X28,0X65,0X2E,0X74,0X61,0X72,0X67,0X65,0X74,0X20,0X3D,0X3D,0X3D,0X20,0X64,0X72,0X61,0X67,0X49,0X74,0X65,0X6D,0X29,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X61,0X63,0X74,0X69,0X76,0X65,0X20,0X3D,0X20,0X74,0X72,0X75,0X65,0X3B,0X0A,0X20,0X20,0X20,0X20,0X7D,0X0A,0X7D,0X0A,0X0A,0X66,0X75,0X6E,0X63,0X74,0X69,0X6F,0X6E,0X20,0X64,0X72,0X61,0X67,0X45,0X6E,0X64,0X28,0X65,0X29,0X20,0X7B,0X0A,0X09,0X69,0X6E,0X69,0X74,0X69,0X61,0X6C,0X58,0X20,0X3D,0X20,0X63,0X75,0X72,0X72,0X65,0X6E,0X74,0X58,0X3B,0X0A,0X09,0X69,0X6E,0X69,0X74,0X69,0X61,0X6C,0X59,0X20,0X3D,0X20,0X63,0X75,0X72,0X72,0X65,0X6E,0X74,0X59,0X3B,0X0A,0X20,0X20,0X20,0X20,0X61,0X63,0X74,0X69,0X76,0X65,0X20,0X3D,0X20,0X66,0X61,0X6C,0X73,0X65,0X3B,0X0A,0X7D,0X0A,0X0A,0X66,0X75,0X6E,0X63,0X74,0X69,0X6F,0X6E,0X20,0X64,0X72,0X61,0X67,0X28,0X65,0X29,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X69,0X66,0X20,0X28,0X61,0X63,0X74,0X69,0X76,0X65,0X29,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X65,0X2E,0X70,0X72,0X65,0X76,0X65,0X6E,0X74,0X44,0X65,0X66,0X61,0X75,0X6C,0X74,0X28,0X29,0X3B,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X63,0X75,0X72,0X72,0X65,0X6E,0X74,0X58,0X20,0X3D,0X20,0X65,0X2E,0X74,0X79,0X70,0X65,0X20,0X3D,0X3D,0X3D,0X20,0X27,0X74,0X6F,0X75,0X63,0X68,0X6D,0X6F,0X76,0X65,0X27,0X20,0X3F,0X20,0X65,0X2E,0X74,0X6F,0X75,0X63,0X68,0X65,0X73,0X5B,0X30,0X5D,0X2E,0X63,0X6C,0X69,0X65,0X6E,0X74,0X58,0X20,0X2D,0X20,0X69,0X6E,0X69,0X74,0X69,0X61,0X6C,0X58,0X20,0X3A,0X20,0X65,0X2E,0X63,0X6C,0X69,0X65,0X6E,0X74,0X58,0X20,0X2D,0X20,0X69,0X6E,0X69,0X74,0X69,0X61,0X6C,0X58,0X3B,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X63,0X75,0X72,0X72,0X65,0X6E,0X74,0X59,0X20,0X3D,0X20,0X65,0X2E,0X74,0X79,0X70,0X65,0X20,0X3D,0X3D,0X3D,0X20,0X27,0X74,0X6F,0X75,0X63,0X68,0X6D,0X6F,0X76,0X65,0X27,0X20,0X3F,0X20,0X65,0X2E,0X74,0X6F,0X75,0X63,0X68,0X65,0X73,0X5B,0X30,0X5D,0X2E,0X63,0X6C,0X69,0X65,0X6E,0X74,0X59,0X20,0X2D,0X20,0X69,0X6E,0X69,0X74,0X69,0X61,0X6C,0X59,0X20,0X3A,0X20,0X65,0X2E,0X63,0X6C,0X69,0X65,0X6E,0X74,0X59,0X20,0X2D,0X20,0X69,0X6E,0X69,0X74,0X69,0X61,0X6C,0X59,0X3B,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X78,0X4F,0X66,0X66,0X73,0X65,0X74,0X20,0X3D,0X20,0X63,0X75,0X72,0X72,0X65,0X6E,0X74,0X58,0X3B,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X79,0X4F,0X66,0X66,0X73,0X65,0X74,0X20,0X3D,0X20,0X63,0X75,0X72,0X72,0X65,0X6E,0X74,0X59,0X3B,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X73,0X65,0X74,0X54,0X72,0X61,0X6E,0X73,0X6C,0X61,0X74,0X65,0X28,0X63,0X75,0X72,0X72,0X65,0X6E,0X74,0X58,0X2C,0X20,0X63,0X75,0X72,0X72,0X65,0X6E,0X74,0X59,0X2C,0X20,0X64,0X72,0X61,0X67,0X49,0X74,0X65,0X6D,0X29,0X3B,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X61,0X72,0X65,0X61,0X27,0X29,0X2E,0X76,0X61,0X6C,0X75,0X65,0X20,0X3D,0X20,0X27,0X58,0X3A,0X20,0X27,0X20,0X2B,0X20,0X63,0X75,0X72,0X72,0X65,0X6E,0X74,0X59,0X20,0X2B,0X20,0X27,0X20,0X59,0X3A,0X20,0X27,0X20,0X2B,0X20,0X63,0X75,0X72,0X72,0X65,0X6E,0X74,0X58,0X3B,0X0A,0X20,0X20,0X20,0X20,0X7D,0X0A,0X7D,0X0A,0X0A,0X66,0X75,0X6E,0X63,0X74,0X69,0X6F,0X6E,0X20,0X73,0X65,0X74,0X54,0X72,0X61,0X6E,0X73,0X6C,0X61,0X74,0X65,0X28,0X78,0X50,0X6F,0X73,0X2C,0X20,0X79,0X50,0X6F,0X73,0X2C,0X20,0X65,0X6C,0X29,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X65,0X6C,0X2E,0X73,0X74,0X79,0X6C,0X65,0X2E,0X74,0X72,0X61,0X6E,0X73,0X66,0X6F,0X72,0X6D,0X20,0X3D,0X20,0X27,0X74,0X72,0X61,0X6E,0X73,0X6C,0X61,0X74,0X65,0X33,0X64,0X28,0X27,0X20,0X2B,0X20,0X78,0X50,0X6F,0X73,0X20,0X2B,0X20,0X27,0X70,0X78,0X2C,0X20,0X27,0X20,0X2B,0X20,0X79,0X50,0X6F,0X73,0X20,0X2B,0X20,0X27,0X70,0X78,0X2C,0X20,0X30,0X29,0X27,0X3B,0X0A,0X20,0X20,0X20,0X20,0X76,0X61,0X72,0X20,0X78,0X56,0X61,0X6C,0X20,0X3D,0X20,0X78,0X50,0X6F,0X73,0X20,0X2F,0X20,0X6D,0X61,0X78,0X44,0X72,0X61,0X67,0X48,0X6F,0X72,0X69,0X7A,0X6F,0X6E,0X74,0X61,0X6C,0X20,0X2A,0X20,0X32,0X35,0X35,0X3B,0X0A,0X20,0X20,0X20,0X20,0X76,0X61,0X72,0X20,0X79,0X56,0X61,0X6C,0X20,0X3D,0X20,0X79,0X50,0X6F,0X73,0X20,0X2F,0X20,0X6D,0X61,0X78,0X44,0X72,0X61,0X67,0X56,0X65,0X72,0X74,0X69,0X63,0X61,0X6C,0X20,0X2A,0X20,0X32,0X35,0X35,0X3B,0X0A,0X20,0X20,0X20,0X20,0X2F,0X2A,0X73,0X65,0X6E,0X64,0X28,0X70,0X61,0X6E,0X44,0X65,0X67,0X72,0X65,0X65,0X73,0X20,0X2B,0X20,0X27,0X2C,0X27,0X20,0X2B,0X20,0X74,0X69,0X6C,0X74,0X44,0X65,0X67,0X72,0X65,0X65,0X73,0X29,0X3B,0X2A,0X2F,0X0A,0X20,0X20,0X20,0X20,0X73,0X65,0X6E,0X64,0X28,0X4A,0X53,0X4F,0X4E,0X2E,0X73,0X74,0X72,0X69,0X6E,0X67,0X69,0X66,0X79,0X28,0X7B,0X4D,0X6F,0X64,0X65,0X3A,0X20,0X31,0X2C,0X20,0X78,0X53,0X74,0X65,0X65,0X72,0X3A,0X20,0X78,0X56,0X61,0X6C,0X2C,0X79,0X53,0X74,0X65,0X65,0X72,0X3A,0X20,0X79,0X56,0X61,0X6C,0X7D,0X29,0X29,0X3B,0X0A,0X7D,0X0A,0X0A,0X66,0X75,0X6E,0X63,0X74,0X69,0X6F,0X6E,0X20,0X73,0X65,0X6E,0X64,0X46,0X6C,0X6F,0X61,0X74,0X56,0X61,0X6C,0X75,0X65,0X73,0X28,0X29,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X76,0X61,0X72,0X20,0X5F,0X6B,0X70,0X41,0X20,0X3D,0X20,0X70,0X61,0X72,0X73,0X65,0X46,0X6C,0X6F,0X61,0X74,0X28,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X6B,0X70,0X41,0X27,0X29,0X2E,0X76,0X61,0X6C,0X75,0X65,0X29,0X20,0X7C,0X7C,0X20,0X30,0X3B,0X0A,0X20,0X20,0X20,0X20,0X76,0X61,0X72,0X20,0X5F,0X6B,0X69,0X41,0X20,0X3D,0X20,0X70,0X61,0X72,0X73,0X65,0X46,0X6C,0X6F,0X61,0X74,0X28,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X6B,0X69,0X41,0X27,0X29,0X2E,0X76,0X61,0X6C,0X75,0X65,0X29,0X20,0X7C,0X7C,0X20,0X30,0X3B,0X0A,0X20,0X20,0X20,0X20,0X76,0X61,0X72,0X20,0X5F,0X6B,0X64,0X41,0X20,0X3D,0X20,0X70,0X61,0X72,0X73,0X65,0X46,0X6C,0X6F,0X61,0X74,0X28,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X6B,0X64,0X41,0X27,0X29,0X2E,0X76,0X61,0X6C,0X75,0X65,0X29,0X20,0X7C,0X7C,0X20,0X30,0X3B,0X0A,0X20,0X20,0X20,0X20,0X0A,0X20,0X20,0X20,0X20,0X76,0X61,0X72,0X20,0X5F,0X6B,0X70,0X42,0X20,0X3D,0X20,0X70,0X61,0X72,0X73,0X65,0X46,0X6C,0X6F,0X61,0X74,0X28,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X6B,0X70,0X42,0X27,0X29,0X2E,0X76,0X61,0X6C,0X75,0X65,0X29,0X20,0X7C,0X7C,0X20,0X30,0X3B,0X0A,0X20,0X20,0X20,0X20,0X76,0X61,0X72,0X20,0X5F,0X6B,0X69,0X42,0X20,0X3D,0X20,0X70,0X61,0X72,0X73,0X65,0X46,0X6C,0X6F,0X61,0X74,0X28,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X6B,0X69,0X42,0X27,0X29,0X2E,0X76,0X61,0X6C,0X75,0X65,0X29,0X20,0X7C,0X7C,0X20,0X30,0X3B,0X0A,0X20,0X20,0X20,0X20,0X76,0X61,0X72,0X20,0X5F,0X6B,0X64,0X42,0X20,0X3D,0X20,0X70,0X61,0X72,0X73,0X65,0X46,0X6C,0X6F,0X61,0X74,0X28,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X6B,0X64,0X42,0X27,0X29,0X2E,0X76,0X61,0X6C,0X75,0X65,0X29,0X20,0X7C,0X7C,0X20,0X30,0X3B,0X0A,0X20,0X20,0X20,0X20,0X0A,0X09,0X76,0X61,0X72,0X20,0X5F,0X6B,0X70,0X43,0X20,0X3D,0X20,0X70,0X61,0X72,0X73,0X65,0X46,0X6C,0X6F,0X61,0X74,0X28,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X6B,0X70,0X43,0X27,0X29,0X2E,0X76,0X61,0X6C,0X75,0X65,0X29,0X20,0X7C,0X7C,0X20,0X30,0X3B,0X0A,0X20,0X20,0X20,0X20,0X76,0X61,0X72,0X20,0X5F,0X6B,0X69,0X43,0X20,0X3D,0X20,0X70,0X61,0X72,0X73,0X65,0X46,0X6C,0X6F,0X61,0X74,0X28,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X6B,0X69,0X43,0X27,0X29,0X2E,0X76,0X61,0X6C,0X75,0X65,0X29,0X20,0X7C,0X7C,0X20,0X30,0X3B,0X0A,0X20,0X20,0X20,0X20,0X76,0X61,0X72,0X20,0X5F,0X6B,0X64,0X43,0X20,0X3D,0X20,0X70,0X61,0X72,0X73,0X65,0X46,0X6C,0X6F,0X61,0X74,0X28,0X64,0X6F,0X63,0X75,0X6D,0X65,0X6E,0X74,0X2E,0X67,0X65,0X74,0X45,0X6C,0X65,0X6D,0X65,0X6E,0X74,0X42,0X79,0X49,0X64,0X28,0X27,0X6B,0X64,0X43,0X27,0X29,0X2E,0X76,0X61,0X6C,0X75,0X65,0X29,0X20,0X7C,0X7C,0X20,0X30,0X3B,0X0A,0X20,0X20,0X20,0X20,0X0A,0X20,0X20,0X20,0X20,0X73,0X65,0X6E,0X64,0X28,0X4A,0X53,0X4F,0X4E,0X2E,0X73,0X74,0X72,0X69,0X6E,0X67,0X69,0X66,0X79,0X28,0X7B,0X4D,0X6F,0X64,0X65,0X3A,0X20,0X32,0X2C,0X20,0X6B,0X70,0X41,0X3A,0X20,0X5F,0X6B,0X70,0X41,0X2C,0X20,0X6B,0X69,0X41,0X3A,0X20,0X5F,0X6B,0X69,0X41,0X2C,0X20,0X6B,0X64,0X41,0X3A,0X20,0X5F,0X6B,0X64,0X41,0X2C,0X20,0X6B,0X70,0X42,0X3A,0X20,0X5F,0X6B,0X70,0X42,0X2C,0X20,0X6B,0X69,0X42,0X3A,0X20,0X5F,0X6B,0X69,0X42,0X2C,0X20,0X6B,0X64,0X42,0X3A,0X20,0X5F,0X6B,0X64,0X42,0X2C,0X20,0X6B,0X70,0X43,0X3A,0X20,0X5F,0X6B,0X70,0X43,0X2C,0X20,0X6B,0X69,0X43,0X3A,0X20,0X5F,0X6B,0X69,0X43,0X2C,0X20,0X6B,0X64,0X43,0X3A,0X20,0X5F,0X6B,0X64,0X43,0X20,0X7D,0X29,0X29,0X3B,0X0A,0X7D,0X0A,0X0A,0X66,0X75,0X6E,0X63,0X74,0X69,0X6F,0X6E,0X20,0X73,0X65,0X6E,0X64,0X28,0X64,0X61,0X74,0X61,0X29,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X69,0X66,0X20,0X28,0X77,0X73,0X2E,0X72,0X65,0X61,0X64,0X79,0X53,0X74,0X61,0X74,0X65,0X20,0X3D,0X3D,0X3D,0X20,0X57,0X65,0X62,0X53,0X6F,0X63,0X6B,0X65,0X74,0X2E,0X4F,0X50,0X45,0X4E,0X29,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X77,0X73,0X2E,0X73,0X65,0X6E,0X64,0X28,0X64,0X61,0X74,0X61,0X29,0X3B,0X0A,0X20,0X20,0X20,0X20,0X7D,0X20,0X65,0X6C,0X73,0X65,0X20,0X7B,0X0A,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X20,0X63,0X6F,0X6E,0X73,0X6F,0X6C,0X65,0X2E,0X6C,0X6F,0X67,0X28,0X27,0X57,0X65,0X62,0X53,0X6F,0X63,0X6B,0X65,0X74,0X20,0X69,0X73,0X20,0X6E,0X6F,0X74,0X20,0X6F,0X70,0X65,0X6E,0X2E,0X20,0X44,0X61,0X74,0X61,0X20,0X6E,0X6F,0X74,0X20,0X73,0X65,0X6E,0X74,0X27,0X29,0X3B,0X0A,0X20,0X20,0X20,0X20,0X7D,0X0A,0X7D,0X0A,0X0A,0X3C,0X2F,0X73,0X63,0X72,0X69,0X70,0X74,0X3E,0X0A,0X3C,0X2F,0X62,0X6F,0X64,0X79,0X3E,0X0A,0X3C,0X2F,0X68,0X74,0X6D,0X6C,0X3E
};

ESP8266WiFiMulti WiFiMulti;
ESP8266WebServer server(80);
WebSocketsServer webSocket = WebSocketsServer(81);


// void initWebsocketServer(char hotspotName[], char hotspotPassword[]) {
//   WiFiMulti.addAP(hotspotName, hotspotPassword);
//   while (WiFiMulti.run() != WL_CONNECTED) {
//     delay(100);
//   }
//   Serial.println("WiFi connected");
//   Serial.println(WiFi.localIP());
//   webSocket.begin();
//   webSocket.onEvent(webSocketEvent);
//   if (MDNS.begin("Robot")) {
//     Serial.println("MDNS responder started");
//   }
//   server.on("/", []() {
//     server.send_P(200, "text/html", INDEX_HTML);
//   });
//   server.begin();
//   MDNS.addService("http", "tcp", 80);
//   MDNS.addService("ws", "tcp", 81);
// }

void initWebsocketServer(const char* hotspotName, const char* hotspotPassword, bool createHotspot) {
  if (createHotspot) {
    // Konfiguration als Hotspot (Access Point)

    IPAddress local_ip(192, 168, 1, 99);
    IPAddress gateway(192, 168, 1, 99);
    IPAddress subnet(255, 255, 255, 0);

    // Starten des Hotspots mit einer festen IP
    WiFi.softAPConfig(local_ip, gateway, subnet);
    WiFi.softAP(hotspotName, hotspotPassword);
    // Serial.println("Hotspot Mode: ON");
    // Serial.print("AP IP address: ");
    // Serial.println(WiFi.softAPIP());
  } else {
    // Verbindung zu einem vorhandenen WiFi-Netzwerk
    WiFiMulti.addAP(hotspotName, hotspotPassword);
    while (WiFiMulti.run() != WL_CONNECTED) {
      delay(100);
    }
    Serial.println("WiFi connected");
    Serial.print("Connected IP: ");
    Serial.println(WiFi.localIP());
  }

  webSocket.begin();
  webSocket.onEvent(webSocketEvent);
  MDNS.begin("Robot");

  server.on("/", []() {
    server.send_P(200, "text/html", INDEX_HTML);
  });

  server.begin();
  MDNS.addService("http", "tcp", 80);
  MDNS.addService("ws", "tcp", 81);
}

void webSocketEvent(uint8_t num, WStype_t type, uint8_t* payload, size_t length) {
  switch (type) {
    case WStype_DISCONNECTED:
      Serial.printf("[%u] Disconnected!\n", num);
      break;
    case WStype_CONNECTED:
      {
        IPAddress ip = webSocket.remoteIP(num);
        Serial.printf("[%u] Connected from %d.%d.%d.%d url: %s\n", num, ip[0], ip[1], ip[2], ip[3], payload);
        webSocket.sendTXT(num, "Connected");
      }
      break;
    case WStype_TEXT:
      JsonDocument doc;
      deserializeJson(doc, (char *) payload);
      if (doc["Mode"] == 1) {
        steerValsRecieved[0] = doc["ySteer"];
        steerValsRecieved[1] = doc["xSteer"];
        newSteerData = true;
      }
      else if (doc["Mode"] == 2) {
        pidValsRecieved[0] = doc["kpA"];
        pidValsRecieved[1] = doc["kiA"];
        pidValsRecieved[2] = doc["kdA"];
        pidValsRecieved[3] = doc["kpB"];
        pidValsRecieved[4] = doc["kiB"];
        pidValsRecieved[5] = doc["kdB"];
        pidValsRecieved[6] = doc["kpC"];
        pidValsRecieved[7] = doc["kiC"];
        pidValsRecieved[8] = doc["kdC"];
        newPidData = true;
      }
      break;
  }
}

void websocketRefresh() {
  webSocket.loop();
  MDNS.update();
  server.handleClient();
}

void websocketSendData(float websocketArray[8], uint32_t sendIntervall) {
  static uint32_t lastMillis = millis();
  uint32_t currentMillis = millis();
  if (currentMillis - lastMillis > sendIntervall) {
    lastMillis = currentMillis;
    char buffer[200];  // Stellen Sie sicher, dass der Buffer groß genug ist
    sprintf(buffer, "{\"distance\": %.2f,\"battery\": %.2f, \"speedL\": %.2f, \"speedR\": %.2f,\"posX\": %.3f, \"posY\": %.3f,\"anglePhi\": %.1f, \"angleAlpha\": %.2f}",
            websocketArray[0], websocketArray[1], websocketArray[2], websocketArray[3], websocketArray[4], websocketArray[5], websocketArray[6], websocketArray[7]);
    webSocket.broadcastTXT(buffer);
  }
}

bool websocketGetSteerData(float steerVals[2]) {
  if (newSteerData) {
    steerVals[0] = steerValsRecieved[0];
    steerVals[1] = steerValsRecieved[1];
    newSteerData = false;
    return true;
  }
  else return false;
}

bool websocketGetPidData(float pidVals[9]) {
  if (newPidData) {
    for (uint8_t i=0; i<9; i++) pidVals[i] = pidValsRecieved[i];
    newPidData = false;
    return true;
  }
  else return false;
}

#endif